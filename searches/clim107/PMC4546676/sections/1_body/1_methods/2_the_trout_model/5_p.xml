<?xml version="1.0" encoding="UTF-8"?>
<p class="p">All trout selected a cell and feeding activity to maximize short-term (90 day) fitness, which was a function of the growth and survival probability offered by each potential cell [
 <xref rid="pone.0135334.ref035" ref-type="bibr" class="xref">35</xref>]. Habitat selection was executed in order of fish size, with the largest fish selecting cells first, representing a length-based hierarchy. The version of inSTREAM we used assumes that trout fed during daylight hours and competed for the food available in each cell [
 <xref rid="pone.0135334.ref020" ref-type="bibr" class="xref">20</xref>]. Both metabolic and activity costs are subtracted from growth (net energy intake) and growth emerges as a function of trout size and habitat conditions (depth, and velocity). However, trout can also lose energy during spawning season (if they mature and if they spawn). Food intake was limited by food availability and the trout’s ability to capture food. Food availability depends on how much food was in each cell and how much was consumed by competing trout. The ability to capture food depends on trout size (with increasing length because larger trout see and swim better) and habitat conditions. There are two modes of feeding for trout, drift-feeding or search feeding. Food intake was represented with a drift-feeding approach where trout capture invertebrates as they are carried within range by the current. Search feeding is active searching for food. It is the primary feeding behavior for young-of-year and consists of 10–20% of food supply for adults [
 <xref rid="pone.0135334.ref036" ref-type="bibr" class="xref">36</xref>]. The survival probability offered by a cell was determined by functions representing mortality due to predation by terrestrial animals, trout predation, disease and starvation, and high temperature. These functions depended on individual length and weight and on habitat variables. Hence, trout grew and survived according to growth rate and survival probabilities of the selected cell.
</p>
