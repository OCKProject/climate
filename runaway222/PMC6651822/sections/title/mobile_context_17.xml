<?xml version="1.0" encoding="UTF-8"?>
<sec class="sec">
 <div class="title" xmlns="http://www.w3.org/1999/xhtml">Mobile Context</div>
 <p xmlns="http://www.w3.org/1999/xhtml">This represents the data layer that supports the data consumption and interaction through the application. It provides a tool that hides the complexity of the data flows and provides the information in one coherent integrated visualization layer. This layer allows the user to capture, gather, and share personal data from the socio-demographic, health status, neighbourhood perception, geolocation, quality of life, and so on. Furthermore, the user can share the activity data of a health tracker device (e.g., Fitbit) and the GPS position. The application continuously displays information to the user, including health risks (e.g., asthma, cardiovascular, and type 2 diabetes risks) [
  <a rid="B37-sensors-19-02940" ref-type="bibr" href="#B37-sensors-19-02940">37</a>], feedback information, sensing services from the wearable activity tracker (e.g., steps, calories burnt, and kilometres walked), current location, and current pollution exposure values, among others. It is based on the following software artefacts able to run in different the different smartphones brand types (iOS and Android):
  <div list-type="bullet" class="list">
   <div class="list-item">
    <p>Graphical User Interfaces (GUI): they represent all the screens as described in 
     <a ref-type="sec" rid="sec3dot3dot1-sensors-19-02940" href="#sec3dot3dot1-sensors-19-02940">Section 3.3.1</a>. They refer to four main activities for the users: the Citizen module that refers to the individual information and ways to promote healthy habits. The City module contains all the screens related to the health, green behavior, and pollution maps. “Preferences” contains all the screens for user’s preferences, and the “Home” page is the initial interaction flow.
    </p>
   </div>
   <div class="list-item">
    <p>Intervention Engine (IE): this is a mechanism to provide the intervention in the application. It is based on a scheduler that executes a questionnaire engine able to process the intervention by proposing a set of activities to the user to promote green and healthy habits.</p>
   </div>
   <div class="list-item">
    <p>Feedback Engine (FE): this is the logic that triggers the proper feedback to the users. There are multi modalities of feedbacks depending on the context and nature of the data. Feedback can be in form of charts (e.g., evolution of the daily steps from the health tracker), educational content (in form of texts, infographics, web pages, or videos), personalized feedbacks (messages build based on rules of a decision support system), or notifications or reminders that are triggered to push users to perform an activity.</p>
   </div>
   <div class="list-item">
    <p>Sensing Service (SE): the artefact abstracts the complexity of the sensor connection and provides access to the internal sensor of the mobile phone (currently the GPS), sensors that are available on the WiFi network of the users, and third-party services.</p>
   </div>
   <div class="list-item">
    <p>Synchronization Service (SS): this service communicates with the big data context to transfer the citizen data to the citizen database; the position of the user is then used (if available) to assess the environmental context and enrich the feedback to the users (e.g., pollution maps).</p>
   </div>
   <div class="list-item">
    <p>App Database (AD): the service offers full data persistence inside the smartphone. The database is securely encrypted and stored in a non-accessible area of the smartphone.</p>
   </div>
  </div>
 </p>
</sec>
